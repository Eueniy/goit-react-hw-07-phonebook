(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(e,t,n){e.exports={listItem:"PhonebookListItem_listItem__2zhl9",dataPerson:"PhonebookListItem_dataPerson__2I_7e",buttonRemove:"PhonebookListItem_buttonRemove__enbNT"}},2:function(e,t,n){e.exports={wrapper:"PhoneBook_wrapper__2S__b",title:"PhoneBook_title__31hjO",form:"PhoneBook_form__3cRb-",buttonAdd:"PhoneBook_buttonAdd__37WQz",inputField:"PhoneBook_inputField__2-2uP",wrapperFilter:"PhoneBook_wrapperFilter__1iHgN",labelMarkup:"PhoneBook_labelMarkup__3b_nQ",phoneList:"PhoneBook_phoneList__2v5Ta",contactList:"PhoneBook_contactList__3v11T"}},23:function(e,t,n){e.exports={Alert:"AlertWindow_Alert__i8cdA",AlertMessage:"AlertWindow_AlertMessage__3ESQa"}},34:function(e,t,n){e.exports={enter:"AlertTransition_enter__3cv6_",enterActive:"AlertTransition_enterActive__3rSRH",exit:"AlertTransition_exit__2iHkZ",exitActive:"AlertTransition_exitActive__2ta7R"}},36:function(e,t,n){e.exports={enter:"PhonebookListSlide_enter__1PxGq",enterActive:"PhonebookListSlide_enterActive__1TrLT",exit:"PhonebookListSlide_exit__2dyTP",exitActive:"PhonebookListSlide_exitActive__17m7X"}},37:function(e,t,n){e.exports={enter:"PhoneFilter_enter__2121f",enterActive:"PhoneFilter_enterActive__17UDg",exit:"PhoneFilter_exit__3mnrI",exitActive:"PhoneFilter_exitActive__2-Zaj"}},38:function(e,t,n){e.exports={enter:"TitleSlideTransition_enter__37I1A",appear:"TitleSlideTransition_appear__Vf3C2",enterActive:"TitleSlideTransition_enterActive__1TOQg",appearActive:"TitleSlideTransition_appearActive__3btZi",appearDone:"TitleSlideTransition_appearDone__1aK4L",exit:"TitleSlideTransition_exit__2PbWu",exitActive:"TitleSlideTransition_exitActive__2kXm2"}},41:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(9),r=n.n(o),i=n(15),s=n(16),l=n(18),u=n(17),m=n(2),_=n.n(m),b=n(11),d=n(34),h=n.n(d),p=n(8),f=n(1),v={addContactsRequest:Object(f.b)("contacts/addRequest"),addContactsSuccess:Object(f.b)("contacts/addSuccess"),addContactsError:Object(f.b)("contacts/addError"),fetchContactsRequest:Object(f.b)("contacts/fetchRequest"),fetchContactsSuccess:Object(f.b)("contacts/fetchSuccess"),fetchContactsError:Object(f.b)("contacts/fetchError"),removeContactsRequest:Object(f.b)("contacts/removeRequest"),removeContactsSuccess:Object(f.b)("contacts/removeSuccess"),removeContactsError:Object(f.b)("contacts/removeError"),changeFilter:Object(f.b)("contacts/filter")},C=n(19),E=n.n(C),A={addContacts:function(e,t){return function(n){n(v.addContactsRequest()),E.a.post("http://localhost:2000/contacts",{name:e,number:t}).then((function(e){return n(v.addContactsSuccess(e.data))})).catch((function(e){return n(v.addContactsError())}))}},fetchContacts:function(){return function(e){e(v.fetchContactsRequest()),E.a.get("http://localhost:2000/contacts").then((function(t){return e(v.fetchContactsSuccess(t.data))})).catch((function(t){return e(v.fetchContactsError())}))}},removeContact:function(e){return function(t){t(v.removeContactsRequest()),E.a.delete("http://localhost:2000/contacts/".concat(e)).then((function(){return t(v.removeContactsSuccess(e))})).catch((function(e){return t(v.removeContactsError())}))}}},O=n(7),j=function(e){return e.actions.item},k=function(e){return e.actions.filter},P={getActions:j,getFilter:k,visibleContacts:Object(O.a)([j,k],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},S=n(23),g=n.n(S),x=function(){return c.a.createElement("div",{className:g.a.Alert},c.a.createElement("span",{className:g.a.AlertMessage},"\u041d\u043e\u043c\u0435\u0440 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"))},N=n(69),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",alertName:null},e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(b.a)({},a,c))},e.handleSubmit=function(t){var n=e.props,a=n.addContacts,c=n.contacts;if(t.preventDefault(),c.find((function(t){return t.name.toLowerCase()===e.state.name.toLowerCase()})))return e.setState({alertName:!0}),setTimeout((function(){e.setState({alertName:null})}),3e3);""===e.state.name||""===e.state.number?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u043d\u043e\u043c\u0435\u0440!"):(a(e.state.name,e.state.number),e.setState({name:"",number:""}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{className:_.a.form,onSubmit:this.handleSubmit},c.a.createElement("label",null,"\u0418\u043c\u044f",c.a.createElement("input",{className:_.a.inputField,type:"text",value:t,onChange:this.handleChange,name:"name"})),c.a.createElement("label",null,"\u041d\u043e\u043c\u0435\u0440",c.a.createElement("input",{className:_.a.inputField,type:"text",value:n,onChange:this.handleChange,name:"number"})),c.a.createElement("button",{className:_.a.buttonAdd,type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442")),c.a.createElement("div",null)),c.a.createElement(N.a,{in:this.state.alertName,timeout:250,classNames:h.a,unmountOnExit:!0},c.a.createElement(x,null)))}}]),n}(a.Component),F={addContacts:A.addContacts},y=Object(p.b)((function(e){return{contacts:P.visibleContacts(e)}}),F)(T),L={onChangeFilter:v.changeFilter},R=Object(p.b)((function(e){return{value:e.actions.filter}}),L)((function(e){var t=e.value,n=e.onChangeFilter;return c.a.createElement("div",{className:_.a.wrapperFilter},c.a.createElement("label",{className:_.a.labelMarkup},"\u041d\u0430\u0439\u0442\u0438 \u043d\u043e\u043c\u0435\u0440",c.a.createElement("input",{className:_.a.inputField,type:"text",value:t,onChange:function(e){return n(e.target.value)}})))})),w=n(13),q=n.n(w),B=function(e){var t=e.id,n=e.name,a=e.number,o=e.onRemovePersonData;return c.a.createElement("div",null,c.a.createElement("li",{key:t,className:q.a.listItem},c.a.createElement("span",{className:q.a.dataPerson},n,":"),c.a.createElement("span",{className:q.a.dataPerson},a),c.a.createElement("button",{className:q.a.buttonRemove,onClick:o},"\u2715")))},I=n(36),D=n.n(I),M=n(37),W=n.n(M),Q=n(70);var H,Z={onRemovePersonData:A.removeContact},z=Object(p.b)((function(e){return{contacts:P.visibleContacts(e)}}),Z)((function(e){var t=e.contacts,n=e.onRemovePersonData;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:_.a.phoneList},c.a.createElement("h2",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),c.a.createElement(y,null),t.length>0?c.a.createElement(N.a,{in:t.length>1,timeout:250,classNames:W.a,unmountOnExit:!0},c.a.createElement(R,null)):c.a.createElement("h2",null,"\u041d\u0435\u0442 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"),c.a.createElement(Q.a,{component:"ul",className:_.a.contactList},t.map((function(e){return c.a.createElement(N.a,{key:e.id,timeout:300,classNames:D.a},c.a.createElement(B,{key:e.id,name:e.name,number:e.number,onRemovePersonData:function(){return n(e.id)}}))})))))})),J=n(38),X=n.n(J),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return c.a.createElement("div",{className:_.a.Wrapper},c.a.createElement(N.a,{in:!0,appear:!0,timeout:1e3,classNames:X.a,unmountOnExit:!0},c.a.createElement("h1",{className:_.a.title},"Phonebook")),c.a.createElement(z,null))}}]),n}(a.Component),K={onFetchContacts:A.fetchContacts},U=Object(p.b)((function(e){return{contacts:P.visibleContacts(e)}}),K)(G),V=n(39),Y=n(6),$=Object(f.c)([],(H={},Object(b.a)(H,v.fetchContactsSuccess,(function(e,t){return t.payload})),Object(b.a)(H,v.addContactsSuccess,(function(e,t){return[].concat(Object(V.a)(e),[t.payload])})),Object(b.a)(H,v.removeContactsSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),H)),ee=Object(Y.c)({item:$,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case v.changeFilter.type:return a;default:return e}}}),te=Object(f.a)({reducer:{actions:ee}});r.a.render(c.a.createElement(p.a,{store:te},c.a.createElement(U,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.72999e51.chunk.js.map